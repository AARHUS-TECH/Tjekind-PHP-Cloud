<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tjekind PHP Cloud: disallow large snapshots (&lt;tt&gt;no-large-snapshots&lt;/tt&gt;)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tjekind PHP Cloud
   &#160;<span id="projectnumber">0.0 Prototype</span>
   </div>
   <div id="projectbrief">Der er brug for at forskellige selvst√¶ndige Tjekind systemer taler til central enhed</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">disallow large snapshots (<code>no-large-snapshots</code>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>When using Jest's snapshot capability one should be mindful of the size of created snapshots. As a general best practice snapshots should be limited in size in order to be more manageable and reviewable. A stored snapshot is only as good as its review and as such keeping it short, sweet, and readable is important to allow for thorough reviews.</p>
<h1><a class="anchor" id="autotoc_md9992"></a>
Usage</h1>
<p>Because Jest snapshots are written with back-ticks (` `) which are only valid with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">ES2015 onwards</a> you should set <code>parserOptions</code> in your config to at least allow ES2015 in order to use this rule:</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  parserOptions: {</div>
<div class="line">    ecmaVersion: 2015,</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9993"></a>
Rule Details</h1>
<p>This rule looks at all Jest inline and external snapshots (files with <code>.snap</code> extension) and validates that each stored snapshot within those files does not exceed 50 lines (by default, this is configurable as explained in <code>Options</code> section below).</p>
<p>Example of <b>incorrect</b> code for this rule:</p>
<p>``<code>js exports[</code>a large snapshot 1<code>] =</code> line 1 line 2 line 3 line 4 line 5 line 6 line 7 line 8 line 9 line 10 line 11 line 12 line 13 line 14 line 15 line 16 line 17 line 18 line 19 line 20 line 21 line 22 line 23 line 24 line 25 line 26 line 27 line 28 line 29 line 30 line 31 line 32 line 33 line 34 line 35 line 36 line 37 line 38 line 39 line 40 line 41 line 42 line 43 line 44 line 45 line 46 line 47 line 48 line 49 line 50 line 51 <code>; </code>``</p>
<p>Example of <b>correct</b> code for this rule:</p>
<p>``<code>js exports[</code>a more manageable and readable snapshot 1<code>] =</code> line 1 line 2 line 3 line 4 `; </p><div class="fragment"><div class="line">## Options</div>
<div class="line"> </div>
<div class="line">This rule has options for modifying the max number of lines allowed for a</div>
<div class="line">snapshot:</div>
<div class="line"> </div>
<div class="line">In an `eslintrc` file:</div>
<div class="line"> </div>
<div class="line">```json</div>
<div class="line">{</div>
<div class="line">  &quot;rules&quot;: {</div>
<div class="line">    &quot;jest/no-large-snapshots&quot;: [&quot;warn&quot;, { &quot;maxSize&quot;: 12, &quot;inlineMaxSize&quot;: 6 }]</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Max number of lines allowed could be defined by snapshot type (Inline and External). Use <code>inlineMaxSize</code> for <a href="https://jestjs.io/docs/en/snapshot-testing#inline-snapshots">Inline Snapshots</a> size and <code>maxSize</code> for <a href="https://jestjs.io/docs/en/snapshot-testing#snapshot-testing-with-jest">External Snapshots</a>. If only <code>maxSize</code> is provided on options, the value of <code>maxSize</code> will be used to both snapshot types (Inline and External).</p>
<p>Since <code>eslint-disable</code> comments are not preserved by Jest when updating snapshots, you can use the <code>allowedSnapshots</code> option to have specific snapshots allowed regardless of their size.</p>
<p>This option takes a map, with the key being the absolute filepath to a snapshot file, and the value an array of values made up of strings and regular expressions to compare to the names of the snapshots in the <code>.snap</code> file when checking if the snapshots size should be allowed.</p>
<p>Note that regular expressions can only be passed in via <code>.eslintrc.js</code> as instances of <code>RegExp</code>.</p>
<p>In an <code>.eslintrc.js</code> file:</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  rules: {</div>
<div class="line">    &#39;jest/no-large-snapshots&#39;: [</div>
<div class="line">      &#39;error&#39;,</div>
<div class="line">      {</div>
<div class="line">        allowedSnapshots: {</div>
<div class="line">          &#39;/path/to/file.js.snap&#39;: [&#39;snapshot name 1&#39;, /a big snapshot \d+/],</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Since absolute paths are typically not very portable, you can use the builtin <code>path.resolve</code> function to expand relative paths into absolutes like so:</p>
<div class="fragment"><div class="line">const path = require(&#39;path&#39;);</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  rules: {</div>
<div class="line">    &#39;jest/no-large-snapshots&#39;: [</div>
<div class="line">      &#39;error&#39;,</div>
<div class="line">      {</div>
<div class="line">        allowedSnapshots: {</div>
<div class="line">          [path.resolve(&#39;test/__snapshots__/get.js.snap&#39;)]: [&#39;full request&#39;],</div>
<div class="line">          [path.resolve(&#39;test/__snapshots__/put.js.snap&#39;)]: [&#39;full request&#39;],</div>
<div class="line">        },</div>
<div class="line">      },</div>
<div class="line">    ],</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
