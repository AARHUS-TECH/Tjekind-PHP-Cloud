<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tjekind PHP Cloud: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tjekind PHP Cloud
   &#160;<span id="projectnumber">0.0 Prototype</span>
   </div>
   <div id="projectbrief">Der er brug for at forskellige selvst√¶ndige Tjekind systemer taler til central enhed</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"> <a href="https://github.com/webpack/webpack"><object type="image/svg+xml" data="https://webpack.js.org/assets/icon-square-big.svg" style="pointer-events: none;" width="200" height="200"></object> </a> </div><p><a href="https://npmjs.com/package/webpack-dev-middleware"><object type="image/svg+xml" data="https://img.shields.io/npm/v/webpack-dev-middleware.svg" style="pointer-events: none;">npm</object></a> <a href="https://nodejs.org"><object type="image/svg+xml" data="https://img.shields.io/node/v/webpack-dev-middleware.svg" style="pointer-events: none;">node</object></a> <a href="https://david-dm.org/webpack/webpack-dev-middleware"><object type="image/svg+xml" data="https://david-dm.org/webpack/webpack-dev-middleware.svg" style="pointer-events: none;">deps</object></a> <a href="https://github.com/webpack/webpack-dev-middleware/actions"><object type="image/svg+xml" data="https://github.com/webpack/webpack-dev-middleware/workflows/webpack-dev-middleware/badge.svg" style="pointer-events: none;">tests</object></a> <a href="https://codecov.io/gh/webpack/webpack-dev-middleware"><object type="image/svg+xml" data="https://codecov.io/gh/webpack/webpack-dev-middleware/branch/master/graph/badge.svg" style="pointer-events: none;">coverage</object></a> <a href="https://gitter.im/webpack/webpack"><object type="image/svg+xml" data="https://badges.gitter.im/webpack/webpack.svg" style="pointer-events: none;">chat</object></a> <a href="https://packagephobia.com/result?p=webpack-dev-middleware"><img src="https://packagephobia.com/badge?p=webpack-dev-middleware" alt="size" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md24931"></a>
webpack-dev-middleware</h1>
<p>An express-style development middleware for use with <a href="https://webpack.js.org">webpack</a> bundles and allows for serving of the files emitted from webpack. This should be used for <b>development only</b>.</p>
<p>Some of the benefits of using this middleware include:</p>
<ul>
<li>No files are written to disk, rather it handles files in memory</li>
<li>If files changed in watch mode, the middleware delays requests until compiling has completed.</li>
<li>Supports hot module reload (HMR).</li>
</ul>
<h2><a class="anchor" id="autotoc_md24932"></a>
Getting Started</h2>
<p>First thing's first, install the module:</p>
<div class="fragment"><div class="line">npm install webpack-dev-middleware --save-dev</div>
</div><!-- fragment --><p><em>Note: We do not recommend installing this module globally.</em></p>
<h2><a class="anchor" id="autotoc_md24933"></a>
Usage</h2>
<div class="fragment"><div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const middleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line">const compiler = webpack({</div>
<div class="line">  // webpack options</div>
<div class="line">});</div>
<div class="line">const express = require(&quot;express&quot;);</div>
<div class="line">const app = express();</div>
<div class="line"> </div>
<div class="line">app.use(</div>
<div class="line">  middleware(compiler, {</div>
<div class="line">    // webpack-dev-middleware options</div>
<div class="line">  })</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">app.listen(3000, () =&gt; console.log(&quot;Example app listening on port 3000!&quot;));</div>
</div><!-- fragment --><p>See <a href="#other-servers">below</a> for an example of use with fastify.</p>
<h2><a class="anchor" id="autotoc_md24934"></a>
Options</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Name </th><th class="markdownTableHeadCenter">Type </th><th class="markdownTableHeadCenter">Default </th><th class="markdownTableHeadLeft">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">**<a href="#methods"><code>methods</code></a>** </td><td class="markdownTableBodyCenter"><code>Array</code> </td><td class="markdownTableBodyCenter">&lsquo;[ 'GET&rsquo;, 'HEAD' ]<code>&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Allows to pass the list of HTTP request methods accepted by the middleware&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>headers<code>](#headers)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Array|Object|Function<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>undefined<code>&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Allows to pass custom HTTP headers on each request.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>index<code>](#index)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Boolean|String<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>index.html&lt;tt&gt;&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Iffalse<code>(but not</code>undefined<code>), the server will not respond to requests to the root URL.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>mimeTypes<code>](#mimetypes)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Object<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>undefined<code>&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Allows to register custom mime types or extension mappings.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>publicPath<code>](#publicpath)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>String<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>output.publicPath&lt;tt&gt;(from a configuration)&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; The public path that the middleware is bound to.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[stats<code>](#stats)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Boolean|String|Object<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>stats&lt;tt&gt;(from a configuration)&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Stats options object or preset name.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[serverSideRender<code>](#serversiderender)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Boolean<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>undefined<code>&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Instructs the module to enable or disable the server-side rendering mode.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>writeToDisk<code>](#writetodisk)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Boolean|Function<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>false<code>&lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Instructs the module to write files to the configured location on disk as specified in your</code>webpack<code>configuration.&lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyCenter"&gt; **[</code>outputFileSystem<code>](#outputfilesystem)**&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt;</code>Object<code>&lt;/td&gt; &lt;td class="markdownTableBodyCenter"&gt; [</code>memfs`](<a href="https://github.com/streamich/memfs">https://github.com/streamich/memfs</a>) </td><td class="markdownTableBodyLeft">Set the default file system which will be used by webpack as primary destination of generated files.  </td></tr>
</table>
<p>The middleware accepts an <code>options</code> Object. The following is a property reference for the Object.</p>
<h3><a class="anchor" id="autotoc_md24935"></a>
methods</h3>
<p>Type: <code>Array</code> <br  />
 Default: &lsquo;[ 'GET&rsquo;, 'HEAD' ]`</p>
<p>This property allows a user to pass the list of HTTP request methods accepted by the middleware**.</p>
<h3><a class="anchor" id="autotoc_md24936"></a>
headers</h3>
<p>Type: <code>Array|Object|Function</code> Default: <code>undefined</code></p>
<p>This property allows a user to pass custom HTTP headers on each request. eg. <code>{ "X-Custom-Header": "yes" }</code></p>
<p>or</p>
<div class="fragment"><div class="line">webpackDevMiddleware(compiler, {</div>
<div class="line">  headers: () =&gt; {</div>
<div class="line">    return {</div>
<div class="line">      &quot;Last-Modified&quot;: new Date(),</div>
<div class="line">    };</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">webpackDevMiddleware(compiler, {</div>
<div class="line">  headers: (req, res, context) =&gt; {</div>
<div class="line">    res.setHeader(&quot;Last-Modified&quot;, new Date());</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">webpackDevMiddleware(compiler, {</div>
<div class="line">  headers: [</div>
<div class="line">    {</div>
<div class="line">      key: &quot;X-custom-header&quot;</div>
<div class="line">      value: &quot;foo&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      key: &quot;Y-custom-header&quot;,</div>
<div class="line">      value: &quot;bar&quot;</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">webpackDevMiddleware(compiler, {</div>
<div class="line">  headers: () =&gt; [</div>
<div class="line">    {</div>
<div class="line">      key: &quot;X-custom-header&quot;</div>
<div class="line">      value: &quot;foo&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      key: &quot;Y-custom-header&quot;,</div>
<div class="line">      value: &quot;bar&quot;</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24937"></a>
index</h3>
<p>Type: <code>Boolean|String</code> Default: <code>index.html</code></p>
<p>If <code>false</code> (but not <code>undefined</code>), the server will not respond to requests to the root URL.</p>
<h3><a class="anchor" id="autotoc_md24938"></a>
mimeTypes</h3>
<p>Type: <code>Object</code> <br  />
 Default: <code>undefined</code></p>
<p>This property allows a user to register custom mime types or extension mappings. eg. &lsquo;mimeTypes: { phtml: 'text/html&rsquo; }`.</p>
<p>Please see the documentation for <a href="https://github.com/jshttp/mime-types"><code>mime-types</code></a> for more information.</p>
<h3><a class="anchor" id="autotoc_md24939"></a>
publicPath</h3>
<p>Type: <code>String</code> Default: <code>output.publicPath</code> (from a configuration)</p>
<p>The public path that the middleware is bound to.</p>
<p><em>Best Practice: use the same <code>publicPath</code> defined in your webpack config. For more information about <code>publicPath</code>, please see <a href="https://webpack.js.org/guides/public-path">the webpack documentation</a>.</em></p>
<h3><a class="anchor" id="autotoc_md24940"></a>
stats</h3>
<p>Type: <code>Boolean|String|Object</code> Default: <code>stats</code> (from a configuration)</p>
<p>Stats options object or preset name.</p>
<h3><a class="anchor" id="autotoc_md24941"></a>
serverSideRender</h3>
<p>Type: <code>Boolean</code> <br  />
 Default: <code>undefined</code></p>
<p>Instructs the module to enable or disable the server-side rendering mode. Please see <a href="#server-side-rendering">Server-Side Rendering</a> for more information.</p>
<h3><a class="anchor" id="autotoc_md24942"></a>
writeToDisk</h3>
<p>Type: <code>Boolean|Function</code> <br  />
 Default: <code>false</code></p>
<p>If <code>true</code>, the option will instruct the module to write files to the configured location on disk as specified in your <code>webpack</code> config file. <em>Setting <code>writeToDisk: true</code> won't change the behavior of the <code>webpack-dev-middleware</code>, and bundle files accessed through the browser will still be served from memory.</em> This option provides the same capabilities as the <a href="https://github.com/gajus/write-file-webpack-plugin/pulls"><code>WriteFilePlugin</code></a>.</p>
<p>This option also accepts a <code>Function</code> value, which can be used to filter which files are written to disk. The function follows the same premise as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array#filter</code></a> in which a return value of <code>false</code> <em>will not</em> write the file, and a return value of <code>true</code> <em>will</em> write the file to disk. eg.</p>
<div class="fragment"><div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const configuration = {</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">};</div>
<div class="line">const compiler = webpack(configuration);</div>
<div class="line"> </div>
<div class="line">middleware(compiler, {</div>
<div class="line">  writeToDisk: (filePath) =&gt; {</div>
<div class="line">    return /superman\.css$/.test(filePath);</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24943"></a>
outputFileSystem</h3>
<p>Type: <code>Object</code> <br  />
 Default: <a href="https://github.com/streamich/memfs">memfs</a></p>
<p>Set the default file system which will be used by webpack as primary destination of generated files. This option isn't affected by the <a href="#writeToDisk">writeToDisk</a> option.</p>
<p>You have to provide <code>.join()</code> and <code>mkdirp</code> method to the <code>outputFileSystem</code> instance manually for compatibility with <code>webpack@4</code>.</p>
<p>This can be done simply by using <code>path.join</code>:</p>
<div class="fragment"><div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const path = require(&quot;path&quot;);</div>
<div class="line">const myOutputFileSystem = require(&quot;my-fs&quot;);</div>
<div class="line">const mkdirp = require(&quot;mkdirp&quot;);</div>
<div class="line"> </div>
<div class="line">myOutputFileSystem.join = path.join.bind(path); // no need to bind</div>
<div class="line">myOutputFileSystem.mkdirp = mkdirp.bind(mkdirp); // no need to bind</div>
<div class="line"> </div>
<div class="line">const compiler = webpack({</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">middleware(compiler, { outputFileSystem: myOutputFileSystem });</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24944"></a>
API</h2>
<p><code>webpack-dev-middleware</code> also provides convenience methods that can be use to interact with the middleware at runtime:</p>
<h3><a class="anchor" id="autotoc_md24945"></a>
&lt;tt&gt;close(callback)&lt;/tt&gt;</h3>
<p>Instructs <code>webpack-dev-middleware</code> instance to stop watching for file changes.</p>
<h4><a class="anchor" id="autotoc_md24946"></a>
Parameters</h4>
<p><a class="anchor" id="autotoc_md24947"></a></p><h5><code>callback</code></h5>
<p>Type: <code>Function</code> Required: <code>No</code></p>
<p>A function executed once the middleware has stopped watching.</p>
<div class="fragment"><div class="line">const express = require(&quot;express&quot;);</div>
<div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const compiler = webpack({</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">});</div>
<div class="line">const middleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line">const instance = middleware(compiler);</div>
<div class="line"> </div>
<div class="line">const app = new express();</div>
<div class="line"> </div>
<div class="line">app.use(instance);</div>
<div class="line"> </div>
<div class="line">setTimeout(() =&gt; {</div>
<div class="line">  // Says `webpack` to stop watch changes</div>
<div class="line">  instance.close();</div>
<div class="line">}, 1000);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24948"></a>
&lt;tt&gt;invalidate(callback)&lt;/tt&gt;</h3>
<p>Instructs <code>webpack-dev-middleware</code> instance to recompile the bundle, e.g. after a change to the configuration.</p>
<h4><a class="anchor" id="autotoc_md24949"></a>
Parameters</h4>
<p><a class="anchor" id="autotoc_md24950"></a></p><h5><code>callback</code></h5>
<p>Type: <code>Function</code> Required: <code>No</code></p>
<p>A function executed once the middleware has invalidated.</p>
<div class="fragment"><div class="line">const express = require(&quot;express&quot;);</div>
<div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const compiler = webpack({</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">});</div>
<div class="line">const middleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line">const instance = middleware(compiler);</div>
<div class="line"> </div>
<div class="line">const app = new express();</div>
<div class="line"> </div>
<div class="line">app.use(instance);</div>
<div class="line"> </div>
<div class="line">setTimeout(() =&gt; {</div>
<div class="line">  // After a short delay the configuration is changed and a banner plugin is added to the config</div>
<div class="line">  new webpack.BannerPlugin(&quot;A new banner&quot;).apply(compiler);</div>
<div class="line"> </div>
<div class="line">  // Recompile the bundle with the banner plugin:</div>
<div class="line">  instance.invalidate();</div>
<div class="line">}, 1000);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24951"></a>
&lt;tt&gt;waitUntilValid(callback)&lt;/tt&gt;</h3>
<p>Executes a callback function when the compiler bundle is valid, typically after compilation.</p>
<h4><a class="anchor" id="autotoc_md24952"></a>
Parameters</h4>
<p><a class="anchor" id="autotoc_md24953"></a></p><h5><code>callback</code></h5>
<p>Type: <code>Function</code> Required: <code>No</code></p>
<p>A function executed when the bundle becomes valid. If the bundle is valid at the time of calling, the callback is executed immediately.</p>
<div class="fragment"><div class="line">const express = require(&quot;express&quot;);</div>
<div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const compiler = webpack({</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">});</div>
<div class="line">const middleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line">const instance = middleware(compiler);</div>
<div class="line"> </div>
<div class="line">const app = new express();</div>
<div class="line"> </div>
<div class="line">app.use(instance);</div>
<div class="line"> </div>
<div class="line">instance.waitUntilValid(() =&gt; {</div>
<div class="line">  console.log(&quot;Package is in a valid state&quot;);</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md24954"></a>
&lt;tt&gt;getFilenameFromUrl(url)&lt;/tt&gt;</h3>
<p>Get filename from URL.</p>
<h4><a class="anchor" id="autotoc_md24955"></a>
Parameters</h4>
<p><a class="anchor" id="autotoc_md24956"></a></p><h5><code>url</code></h5>
<p>Type: <code>String</code> Required: <code>Yes</code></p>
<p>URL for the requested file.</p>
<div class="fragment"><div class="line">const express = require(&quot;express&quot;);</div>
<div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const compiler = webpack({</div>
<div class="line">  /* Webpack configuration */</div>
<div class="line">});</div>
<div class="line">const middleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line">const instance = middleware(compiler);</div>
<div class="line"> </div>
<div class="line">const app = new express();</div>
<div class="line"> </div>
<div class="line">app.use(instance);</div>
<div class="line"> </div>
<div class="line">instance.waitUntilValid(() =&gt; {</div>
<div class="line">  const filename = instance.getFilenameFromUrl(&quot;/bundle.js&quot;);</div>
<div class="line"> </div>
<div class="line">  console.log(`Filename is ${filename}`);</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24957"></a>
Known Issues</h2>
<h3><a class="anchor" id="autotoc_md24958"></a>
Multiple Successive Builds</h3>
<p>Watching will frequently cause multiple compilations as the bundle changes during compilation. This is due in part to cross-platform differences in file watchers, so that webpack doesn't loose file changes when watched files change rapidly. If you run into this situation, please make use of the <a href="https://github.com/egoist/time-fix-plugin"><code>TimeFixPlugin</code></a>.</p>
<h2><a class="anchor" id="autotoc_md24959"></a>
Server-Side Rendering</h2>
<p><em>Note: this feature is experimental and may be removed or changed completely in the future.</em></p>
<p>In order to develop an app using server-side rendering, we need access to the <a href="https://github.com/webpack/docs/wiki/node.js-api#stats"><code>stats</code></a>, which is generated with each build.</p>
<p>With server-side rendering enabled, <code>webpack-dev-middleware</code> sets the <code>stats</code> to <code>res.locals.webpack.devMiddleware.context.stats</code> and the filesystem to <code>res.locals.webpack.devMiddleware.context.outputFileSystem</code> before invoking the next middleware, allowing a developer to render the page body and manage the response to clients.</p>
<p><em>Note: Requests for bundle files will still be handled by <code>webpack-dev-middleware</code> and all requests will be pending until the build process is finished with server-side rendering enabled.</em></p>
<p>Example Implementation:</p>
<p>```js const express = require("express"); const webpack = require("webpack"); const compiler = webpack({ /* Webpack configuration */ }); const isObject = require("is-object"); const middleware = require("webpack-dev-middleware");</p>
<p>const app = new express();</p>
<p>// This function makes server rendering of asset references consistent with different webpack chunk/entry configurations function normalizeAssets(assets) { if (isObject(assets)) { return Object.values(assets); }</p>
<p>return Array.isArray(assets) ? assets : [assets]; }</p>
<p>app.use(middleware(compiler, { serverSideRender: true }));</p>
<p>// The following middleware would not be invoked until the latest build is finished. app.use((req, res) =&gt; { const { devMiddleware } = res.locals.webpack; const outputFileSystem = devMiddleware.context.outputFileSystem; const jsonWebpackStats = devMiddleware.context.stats.toJson(); const { assetsByChunkName, outputPath } = jsonWebpackStats;</p>
<p>// Then use <code>assetsByChunkName</code> for server-side rendering // For example, if you have only one main chunk: res.send(` &lt;html&gt; &lt;head&gt; &lt;title&gt;My App&lt;/title&gt; &lt;style&gt; ${normalizeAssets(assetsByChunkName.main) .filter((path) =&gt; path.endsWith(".css")) .map((path) =&gt; outputFileSystem.readFileSync(path.join(outputPath, path))) .join("\n")} &lt;/style&gt; &lt;/head&gt; &lt;body&gt; </p><div id="root"></div><p> ${normalizeAssets(assetsByChunkName.main) .filter((path) =&gt; path.endsWith(".js")) .map((path) =&gt; <code>&lt;script src="${path}"&gt;&lt;/script&gt;</code>) .join("\n")} &lt;/body&gt; &lt;/html&gt; `); }); </p><div class="fragment"><div class="line">## Support</div>
<div class="line"> </div>
<div class="line">We do our best to keep Issues in the repository focused on bugs, features, and</div>
<div class="line">needed modifications to the code for the module. Because of that, we ask users</div>
<div class="line">with general support, &quot;how-to&quot;, or &quot;why isn&#39;t this working&quot; questions to try one</div>
<div class="line">of the other support channels that are available.</div>
<div class="line"> </div>
<div class="line">Your first-stop-shop for support for webpack-dev-server should by the excellent</div>
<div class="line">[documentation][docs-url] for the module. If you see an opportunity for improvement</div>
<div class="line">of those docs, please head over to the [webpack.js.org repo][wjo-url] and open a</div>
<div class="line">pull request.</div>
<div class="line"> </div>
<div class="line">From there, we encourage users to visit the [webpack Gitter chat][chat-url] and</div>
<div class="line">talk to the fine folks there. If your quest for answers comes up dry in chat,</div>
<div class="line">head over to [StackOverflow][stack-url] and do a quick search or open a new</div>
<div class="line">question. Remember; It&#39;s always much easier to answer questions that include your</div>
<div class="line">`webpack.config.js` and relevant files!</div>
<div class="line"> </div>
<div class="line">If you&#39;re twitter-savvy you can tweet [#webpack][hash-url] with your question</div>
<div class="line">and someone should be able to reach out and lend a hand.</div>
<div class="line"> </div>
<div class="line">If you have discovered a :bug:, have a feature suggestion, or would like to see</div>
<div class="line">a modification, please feel free to create an issue on Github. _Note: The issue</div>
<div class="line">template isn&#39;t optional, so please be sure not to remove it, and please fill it</div>
<div class="line">out completely._</div>
<div class="line"> </div>
<div class="line">## Other servers</div>
<div class="line"> </div>
<div class="line">Examples of use with other servers will follow here.</div>
<div class="line"> </div>
<div class="line">### Fastify</div>
<div class="line"> </div>
<div class="line">Fastify interop will require the use of `fastify-express` instead of `middie` for providing middleware support. As the authors of `fastify-express` recommend, this should only be used as a stopgap while full Fastify support is worked on.</div>
<div class="line"> </div>
<div class="line">```js</div>
<div class="line">const fastify = require(&quot;fastify&quot;)();</div>
<div class="line">const webpack = require(&quot;webpack&quot;);</div>
<div class="line">const webpackConfig = require(&quot;./webpack.config.js&quot;);</div>
<div class="line">const devMiddleware = require(&quot;webpack-dev-middleware&quot;);</div>
<div class="line"> </div>
<div class="line">const compiler = webpack(webpackConfig);</div>
<div class="line">const { publicPath } = webpackConfig.output;</div>
<div class="line"> </div>
<div class="line">(async () =&gt; {</div>
<div class="line">  await fastify.register(require(&quot;fastify-express&quot;));</div>
<div class="line">  await fastify.use(devMiddleware(compiler, { publicPath }));</div>
<div class="line">  await fastify.listen(3000);</div>
<div class="line">})();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24960"></a>
Contributing</h2>
<p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p>
<p><a class="el" href="uuid_2_c_o_n_t_r_i_b_u_t_i_n_g_8md.html">CONTRIBUTING</a></p>
<h2><a class="anchor" id="autotoc_md24961"></a>
License</h2>
<p><a href="./LICENSE">MIT</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
